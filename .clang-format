---
Language: Cpp
AccessModifierOffset: -4
AlignAfterOpenBracket: Align
AlignConsecutiveMacros: AcrossComments
AlignEscapedNewlines: LeftWithLastLine
AlignTrailingComments: Always # Bool also allowed
AllowAllArgumentsOnNextLine: true
AllowAllParametersOfDeclarationOnNextLine: false
AllowShortBlocksOnASingleLine: Never
AllowShortCaseLabelsOnASingleLine: false
AllowShortEnumsOnASingleLine: false
AllowShortFunctionsOnASingleLine: All
AllowShortIfStatementsOnASingleLine: Never
AllowShortLoopsOnASingleLine: false
AlwaysBreakBeforeMultilineStrings: false
BinPackArguments: false
BinPackParameters: false # OnePerLine doesn't work
BreakAfterReturnType: Automatic
BreakBeforeBinaryOperators: NonAssignment
BreakBeforeBraces: Custom
BraceWrapping:
  AfterFunction: true
  BeforeCatch: true
  BeforeElse: true
  SplitEmptyFunction: false
  SplitEmptyRecord: false
  SplitEmptyNamespace: false
BreakBeforeTernaryOperators: true
BreakConstructorInitializers: BeforeColon
BreakInheritanceList: BeforeColon
BreakStringLiterals: false
BreakTemplateDeclarations: Yes
CommentPragmas: '^ NOLINT.*'
FixNamespaceComments: true
IncludeBlocks: Merge
IncludeIsMainSourceRegex: '\.(ipp|tpp)$'
IndentCaseLabels: false
IndentPPDirectives: AfterHash
IndentWidth: 4
IndentWrappedFunctionNames: false
InsertBraces: true
InsertNewlineAtEOF: true
KeepEmptyLines:
  AtEndOfFile: false
  AtStartOfBlock: false
  AtStartOfFile: false
# MacrosSkippedByRemoveParentheses: [FT_HAS_MEMBER_FUNCTION] # TODO Add once clang-format-21 is stable.
NamespaceIndentation: None
PackConstructorInitializers: Never
# TODO Experiment with penalties
# PenaltyIndentedWhitespace: 1
# PenaltyReturnTypeOnItsOwnLine: 10 # also works
PointerAlignment: Left
ReflowComments: true # Always doesn't work
RemoveEmptyLinesInUnwrappedLines: true
# RemoveParentheses: ReturnStatement # TODO Add once clang-format-21 is stable.
ShortNamespaceLines: 0
SortIncludes: CaseSensitive
SortUsingDeclarations: Lexicographic
SpaceAfterCStyleCast: false
SpaceAfterLogicalNot: false
SpaceAfterTemplateKeyword: true
SpaceBeforeAssignmentOperators: true
SpaceBeforeParens: ControlStatements
SpaceBeforeRangeBasedForLoopColon: true
SpacesInAngles: Never
SpacesInSquareBrackets: false
Standard: Auto
StatementMacros: [FT_REQUIRES]
TabWidth: 4
UseTab: ForIndentation
---
